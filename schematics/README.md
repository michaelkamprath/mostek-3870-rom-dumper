# MOSTEK 3870 ROM Dumper Schematics

The `mostek-3870-rom-dumper` directory herein contains the KiCad schematics for the ROM dumper. Note that it uses an `ATEMEGA1284P` as the microcontroller. The `ATMEGA1284P` should have a suitable boot loader installed on it, such as [MightyCore](https://github.com/MCUdude/MightyCore). 

The design requires 3 different voltage levels. These `LM317T` adjustable voltage regulators are used to provide the required voltages from a single 9V source. Note that the `MK3870` works best with a voltage slightly lower than 5V, as at 5V or above it will randomly raise LOW values on port 4 to be HIGH-enough that the `ATEMEGA1284P` perceives it as a HIGH. This design calls for 4.8V to be the VCC for both the `MK3870` and the `ATEMEGA1284P`. The `LM317T` that is used to provide the 4.8V will likely need a heat sink as the current draw is greatest through that one. It is recommended that when constructing this design that the `LM317T`s are setup first and the voltages dialed in before connecting them to the rest of the circuit.

The P-channel MOSFET (`Q1`) is used to control when power is applied to the `MK3870`. I found that the `MK3870` did not like being powered with no active clock, and would intermittently not cooperate with the ROM dumping process. The MOSFET allows the `ATMEGA1284P` to turn on the power to the `MK3870` just prior to the dumping process, and thus minimize the intermittent failures.
